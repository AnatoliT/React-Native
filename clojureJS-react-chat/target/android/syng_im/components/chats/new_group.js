// Compiled by ClojureScript 1.7.170 {}
goog.provide('syng_im.components.chats.new_group');
goog.require('cljs.core');
goog.require('syng_im.resources');
goog.require('syng_im.navigation');
goog.require('reagent.core');
goog.require('syng_im.components.styles');
goog.require('syng_im.components.realm');
goog.require('syng_im.components.chats.new_group_contact');
goog.require('syng_im.components.react');
goog.require('re_frame.core');
goog.require('syng_im.utils.listview');
syng_im.components.chats.new_group.new_group = (function syng_im$components$chats$new_group$new_group(p__21490){
var map__21493 = p__21490;
var map__21493__$1 = ((((!((map__21493 == null)))?((((map__21493.cljs$lang$protocol_mask$partition0$ & (64))) || (map__21493.cljs$core$ISeq$))?true:false):false))?cljs.core.apply.call(null,cljs.core.hash_map,map__21493):map__21493);
var navigator = cljs.core.get.call(null,map__21493__$1,new cljs.core.Keyword(null,"navigator","navigator",2050004181));
var contacts = re_frame.core.subscribe.call(null,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"all-contacts","all-contacts",-1632037058)], null));
var group_name = cljs.core.atom.call(null,null);
return ((function (contacts,group_name,map__21493,map__21493__$1,navigator){
return (function (){
var contacts_ds = syng_im.utils.listview.to_realm_datasource.call(null,cljs.core.deref.call(null,contacts));
return new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [syng_im.components.react.view,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"style","style",-496642736),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"flex","flex",-1425124628),(1),new cljs.core.Keyword(null,"flexDirection","flexDirection",1286039598),"column",new cljs.core.Keyword(null,"backgroundColor","backgroundColor",1738438491),syng_im.components.styles.color_white], null)], null),(cljs.core.truth_(syng_im.components.react.android_QMARK_)?new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [syng_im.components.react.toolbar_android,new cljs.core.PersistentArrayMap(null, 5, [new cljs.core.Keyword(null,"navIcon","navIcon",-1491295906),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"uri","uri",-774711847),"icon_back"], null),new cljs.core.Keyword(null,"style","style",-496642736),new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"backgroundColor","backgroundColor",1738438491),syng_im.components.styles.color_white,new cljs.core.Keyword(null,"height","height",1025178622),(56),new cljs.core.Keyword(null,"elevation","elevation",-1609348796),(2)], null),new cljs.core.Keyword(null,"onIconClicked","onIconClicked",2049778180),((function (contacts_ds,contacts,group_name,map__21493,map__21493__$1,navigator){
return (function (){
return syng_im.navigation.nav_pop.call(null,navigator);
});})(contacts_ds,contacts,group_name,map__21493,map__21493__$1,navigator))
,new cljs.core.Keyword(null,"actions","actions",-812656882),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"title","title",636505583),"Create",new cljs.core.Keyword(null,"show","show",-576705889),"always",new cljs.core.Keyword(null,"showWithText","showWithText",-957072095),true], null)], null),new cljs.core.Keyword(null,"onActionSelected","onActionSelected",-884451200),((function (contacts_ds,contacts,group_name,map__21493,map__21493__$1,navigator){
return (function (position){
return re_frame.core.dispatch.call(null,new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"create-new-group","create-new-group",953212743),cljs.core.deref.call(null,group_name),navigator], null));
});})(contacts_ds,contacts,group_name,map__21493,map__21493__$1,navigator))
], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [syng_im.components.react.view,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"style","style",-496642736),new cljs.core.PersistentArrayMap(null, 5, [new cljs.core.Keyword(null,"flex","flex",-1425124628),(1),new cljs.core.Keyword(null,"alignItems","alignItems",410331199),"center",new cljs.core.Keyword(null,"justifyContent","justifyContent",885406515),"center",new cljs.core.Keyword(null,"marginRight","marginRight",457313535),(112),new cljs.core.Keyword(null,"backgroundColor","backgroundColor",1738438491),"transparent"], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [syng_im.components.react.text,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"style","style",-496642736),new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"marginTop","marginTop",-1403015220),-2.5,new cljs.core.Keyword(null,"color","color",1011675173),syng_im.components.styles.text1_color,new cljs.core.Keyword(null,"fontSize","fontSize",919623033),(16),new cljs.core.Keyword(null,"fontFamily","fontFamily",1493518353),syng_im.components.styles.font], null)], null),"New group chat"], null)], null)], null):null),new cljs.core.PersistentVector(null, 7, 5, cljs.core.PersistentVector.EMPTY_NODE, [syng_im.components.react.view,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"style","style",-496642736),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"marginHorizontal","marginHorizontal",-708054311),(16)], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [syng_im.components.react.text,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"style","style",-496642736),new cljs.core.PersistentArrayMap(null, 6, [new cljs.core.Keyword(null,"marginTop","marginTop",-1403015220),(24),new cljs.core.Keyword(null,"marginBottom","marginBottom",1236079031),(16),new cljs.core.Keyword(null,"color","color",1011675173),syng_im.components.styles.text2_color,new cljs.core.Keyword(null,"fontFamily","fontFamily",1493518353),syng_im.components.styles.font,new cljs.core.Keyword(null,"fontSize","fontSize",919623033),(14),new cljs.core.Keyword(null,"lineHeight","lineHeight",-1729831016),(20)], null)], null),"Chat name"], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [syng_im.components.react.text_input,new cljs.core.PersistentArrayMap(null, 7, [new cljs.core.Keyword(null,"underlineColorAndroid","underlineColorAndroid",396584087),syng_im.components.styles.color_purple,new cljs.core.Keyword(null,"style","style",-496642736),new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"marginLeft","marginLeft",-551287007),(-4),new cljs.core.Keyword(null,"fontSize","fontSize",919623033),(14),new cljs.core.Keyword(null,"fontFamily","fontFamily",1493518353),syng_im.components.styles.font,new cljs.core.Keyword(null,"color","color",1011675173),syng_im.components.styles.text1_color], null),new cljs.core.Keyword(null,"autoFocus","autoFocus",-552622425),true,new cljs.core.Keyword(null,"placeholder","placeholder",-104873083),"Group Name",new cljs.core.Keyword(null,"placeholderTextColor","placeholderTextColor",-1464202588),syng_im.components.styles.text2_color,new cljs.core.Keyword(null,"onChangeText","onChangeText",-163727290),((function (contacts_ds,contacts,group_name,map__21493,map__21493__$1,navigator){
return (function (new_text){
cljs.core.reset_BANG_.call(null,group_name,new_text);

return reagent.core.flush.call(null);
});})(contacts_ds,contacts,group_name,map__21493,map__21493__$1,navigator))
,new cljs.core.Keyword(null,"onSubmitEditing","onSubmitEditing",-1225777034),((function (contacts_ds,contacts,group_name,map__21493,map__21493__$1,navigator){
return (function (e){
return cljs.core.reset_BANG_.call(null,group_name,null);
});})(contacts_ds,contacts,group_name,map__21493,map__21493__$1,navigator))
], null),cljs.core.deref.call(null,group_name)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [syng_im.components.react.text,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"style","style",-496642736),new cljs.core.PersistentArrayMap(null, 6, [new cljs.core.Keyword(null,"marginTop","marginTop",-1403015220),(24),new cljs.core.Keyword(null,"marginBottom","marginBottom",1236079031),(16),new cljs.core.Keyword(null,"color","color",1011675173),syng_im.components.styles.text2_color,new cljs.core.Keyword(null,"fontFamily","fontFamily",1493518353),syng_im.components.styles.font,new cljs.core.Keyword(null,"fontSize","fontSize",919623033),(14),new cljs.core.Keyword(null,"lineHeight","lineHeight",-1729831016),(20)], null)], null),"Members"], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [syng_im.components.react.touchable_highlight,new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"on-press","on-press",-1763585856),((function (contacts_ds,contacts,group_name,map__21493,map__21493__$1,navigator){
return (function (){
return null;
});})(contacts_ds,contacts,group_name,map__21493,map__21493__$1,navigator))
,new cljs.core.Keyword(null,"underlay-color","underlay-color",-865656052),new cljs.core.Keyword(null,"transparent","transparent",-2073609949)], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [syng_im.components.react.view,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"style","style",-496642736),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"flexDirection","flexDirection",1286039598),"row",new cljs.core.Keyword(null,"marginBottom","marginBottom",1236079031),(16)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [syng_im.components.react.image,new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"source","source",-433931539),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"uri","uri",-774711847),"icon_add_gray"], null),new cljs.core.Keyword(null,"style","style",-496642736),new cljs.core.PersistentArrayMap(null, 4, [new cljs.core.Keyword(null,"marginVertical","marginVertical",586374780),(19),new cljs.core.Keyword(null,"marginHorizontal","marginHorizontal",-708054311),(3),new cljs.core.Keyword(null,"width","width",-384071477),(17),new cljs.core.Keyword(null,"height","height",1025178622),(17)], null)], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [syng_im.components.react.text,new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"style","style",-496642736),new cljs.core.PersistentArrayMap(null, 6, [new cljs.core.Keyword(null,"marginTop","marginTop",-1403015220),(18),new cljs.core.Keyword(null,"marginLeft","marginLeft",-551287007),(32),new cljs.core.Keyword(null,"color","color",1011675173),syng_im.components.styles.text2_color,new cljs.core.Keyword(null,"fontFamily","fontFamily",1493518353),syng_im.components.styles.font,new cljs.core.Keyword(null,"fontSize","fontSize",919623033),(14),new cljs.core.Keyword(null,"lineHeight","lineHeight",-1729831016),(20)], null)], null),"Add members"], null)], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [syng_im.components.realm.list_view,new cljs.core.PersistentArrayMap(null, 3, [new cljs.core.Keyword(null,"dataSource","dataSource",-178401132),contacts_ds,new cljs.core.Keyword(null,"renderRow","renderRow",239389977),((function (contacts_ds,contacts,group_name,map__21493,map__21493__$1,navigator){
return (function (row,section_id,row_id){
return reagent.core.as_element.call(null,new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [syng_im.components.chats.new_group_contact.new_group_contact,cljs.core.js__GT_clj.call(null,row,new cljs.core.Keyword(null,"keywordize-keys","keywordize-keys",1310784252),true),navigator], null));
});})(contacts_ds,contacts,group_name,map__21493,map__21493__$1,navigator))
,new cljs.core.Keyword(null,"style","style",-496642736),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"backgroundColor","backgroundColor",1738438491),"white"], null)], null)], null)], null)], null);
});
;})(contacts,group_name,map__21493,map__21493__$1,navigator))
});

//# sourceMappingURL=new_group.js.map